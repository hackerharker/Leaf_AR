<html>
  <head>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src='text_component.js'></script>
    <!-- this library enables the camera as the background -->
    <script src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js'></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400&display=swap" rel="stylesheet"> 
    <style>
      #overlay {
        position: absolute;
        top: 10;
        left: 10;
        z-index: 999;
      }
    </style>
  </head>
  
  <body>

    <div id="overlay" style="font-family: 'Inconsolata', monospace; color:FFD500";>Identify a leaf by tapping on it.</div>

    <a-scene start="start" renderer="sortObjects:true"
    cursor="rayOrigin: mouse;"
    embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>

      <!-- these are the leaf images and normal maps -->
      <a-assets>
        <!-- leaf 1 -->
        <img src="leaf_images/leaf_1.png" id="leaf_1">
        <img src="leaf_images/leaf_1_normal_map.png" id="leaf_1_normal_map" />
        <!-- leaf 2 -->
        <img src="leaf_images/leaf_2.png" id="leaf_2">
        <img src="leaf_images/leaf_2_normal_map.png" id="leaf_2_normal_map"/>
        <!-- leaf 3 -->
        <img src="leaf_images/leaf_3.png" id="leaf_3">
        <img src="leaf_images/leaf_3_normal_map.png" id="leaf_3_normal_map" />
        <!-- leaf 4 -->
        <img src="leaf_images/leaf_4.png" id="leaf_4" />
        <img src="leaf_images/leaf_4_normal_map.png" id="leaf_4_normal_map" />
        <!-- leaf 5 -->
        <img src="leaf_images/leaf_5.png" id="leaf_5" />
        <img src="leaf_images/leaf_5_normal_map.png" id="leaf_5_normal_map" />
        <!-- leaf 6 -->
        <img src="leaf_images/leaf_6.png" id="leaf_6" />
        <img src="leaf_images/leaf_6_normal_map.png" id="leaf_6_normal_map" />
        <!-- leaf 7 -->
        <img src="leaf_images/leaf_7.png" id="leaf_7" />
        <img src="leaf_images/leaf_7_normal_map.png" id="leaf_7_normal_map" />
        <!-- leaf 8 -->
        <img src="leaf_images/leaf_8.png" id="leaf_8" />
        <img src="leaf_images/leaf_8_normal_map.png" id="leaf_8_normal_map" />
        <!-- leaf 9 -->
        <img src="leaf_images/leaf_9.png" id="leaf_9" />
        <img src="leaf_images/leaf_9_normal_map.png" id="leaf_9_normal_map" />


        
      </a-assets>
      

      <!-- to trigger animation with a marker image use the following -->
      <!-- <a-nft
      type='nft' 
      url='https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/trex-image/trex'
      smooth='true' smoothCount='10' smoothTolerance='0.01' smoothThreshold='5'> -->

      <!-- this is an example of a leaf made in HTML without text associated with it -->
      <!-- <a-entity
        geometry="primitive: plane; width: 2; height: 2"
        position="0 5 0"
        material="src:#leaf 1; side:double; transparent: true; normalMap:#leaf 1 normal map; roughness:1"
        animation="property: rotation; to: 0 359.999 0; dur: 8000; easing: linear; loop: true; "
        animation__Y="property: object3D.position.y; to: -4; dir: normal; dur: 30000; loop: true" 
        shadow="cast: true;"
      ></a-entity> -->

      <!-- this is an example of a leaf made in HTML, where there is a 'leaf container' with both the text and the leaf. 
            It is done this way so that the leaf and the text move across the screen together but only the leaf rotates 
            this is the beginning of the Notholithocarpus container -->

      <!-- this outermost entity is the container that contains the leaf and text and moves them across the screen -->
      <!-- <a-entity id="Notholithocarpus" animation__MV="property: position; to: -8 -5 2; dir: normal; dur: 20000; loop: true" position="2 1 3">  -->
        
        <!-- this is the leaf entity within the Notholithocarpus container that rotates as it moves across the screen -->
        <!-- <a-entity
          geometry="primitive: plane; width: 2; height: 2"
          material="src:#leaf_3; side:double; transparent: true; normalMap:#leaf_3_normal_map; roughness:1"
          animation__RX="property: object3D.rotation.x; to: 359.999; dur: 10000; easing: linear; loop: true"
          animation__RY="property: object3D.rotation.y; to: 359.999; dur: 6000; easing: linear; loop: true"
          animation__RZ="property: object3D.rotation.z; to: 359.999 ; dur: 8000; easing: linear; loop: true"  
        ></a-entity> -->

        <!-- this is the text entity within the Notholithocarpus that follows the leaf as it moves across the screen -->
        <!-- <a-entity
        text="value: Notholithocarpus densiflorus; color: #FFD500; align: center"
        look-at="#camera"
        scale="2 2 2"
        position= "0 0 1"
        popup= "parent:#Notholithocarpus"
        ></a-entity>
      </a-entity>  -->
      <!-- this is the end of the Notholithocarpus container-->


      <!-- <a-entity id="sequoia" animation__MV="property: position; to: -3 -1 4; dir: normal; dur: 20000; loop: true" position="3 4 1"> 
        <a-entity
          geometry="primitive: plane; width: 2; height: 2"
          
          material="src:#leaf 2; side:double; transparent: true; normalMap:#leaf 2 normal map; roughness:1"
          animation__RX="property: object3D.rotation.x; to: 359.999; dur: 10000; easing: linear; loop: true"
          animation__RY="property: object3D.rotation.y; to: 359.999; dur: 6000; easing: linear; loop: true"
          animation__RZ="property: object3D.rotation.z; to: 359.999 ; dur: 8000; easing: linear; loop: true"  
        >
        </a-entity>
        <a-entity
        text="value: Sequoia sempervirens; color: #FFD500; align: center"
        look-at="#camera"
        scale="2 2 2"
        position= "0 0 1"
        popup= "parent:#sequoia"

        ></a-entity>
      </a-entity>  -->
      <!-- end sequoia container-->

      <!-- this sets the camera position -->
      <a-entity id= "camera" camera look-controls wasd-controls position="0 1 5">
        <!-- <a-entity
        cursor="fuse: true; fuseTimeout: 500"
        position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
        material="color: black; shader: flat; opacity: 0"
        >-->
       </a-entity> 
       <!-- <a-marker cursor='rayOrigin: mouse'>
    
      </a-marker> -->
      <!-- these entities set the lighting- both ambient and point lights -->

      <!-- <a-entity
        light="type: point; castShadow: true"
        position="3 6 5"
      ></a-entity> -->

      <a-entity light="type: ambient; intensity: .3"
      ></a-entity> -->

      <a-entity light="type: point; intensity: 2; "
      position="0 100 200"></a-entity>

      <a-entity light="type: point; intensity: 1; "
      position="0 -200 100"></a-entity>


      

      <!-- </a-nft>  -->
      <!-- <a-entity camera look-controls wasd-controls position="0 1 5"> </a-entity> -->
    </a-scene>
  </body>
</html>
